{"ast":null,"code":"var _jsxFileName = \"/Users/luismiguelascencio/Development/labs/FINAL/react-drum-machine/src/components/Transport.js\";\nimport React from \"react\";\nimport { Transport } from \"tone\";\nimport { Knob } from \"react-rotary-knob\";\nimport * as skins from \"react-rotary-knob-skin-pack\";\nimport InstrumentsContainer from \"../containers/InstrumentsContainer\";\n\nclass Trans extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.bpmHanlder = val => {\n      this.setState({\n        bpm: val\n      });\n      Transport.bpm.value = this.state.bpm;\n    };\n\n    this.startTransportHandler = () => {\n      Transport.start(\"+.2\");\n      this.setState({\n        start: true\n      });\n    };\n\n    this.stopTransportHandler = () => {\n      Transport.stop();\n      Transport.clear();\n      this.setState({\n        start: false\n      });\n    };\n\n    this.resetHandler = () => {\n      this.setState({\n        reset: !this.state.reset\n      }); // console.log(this.state.reset);\n    };\n\n    this.state = {\n      reset: false,\n      start: false,\n      bpm: 120 // swing: 0\n\n    };\n    this.style = {\n      fontSize: \"40px\",\n      borderStyle: \"solid\",\n      borderWidth: \"3px\",\n      outline: 0\n    };\n    this.colorR = {\n      color: \"rgb(142, 83, 120)\"\n    };\n    this.colorG = {\n      color: \"rgb(23, 62, 67)\"\n    };\n    Transport.bpm.value = this.state.bpm;\n    Transport.setLoopPoints(0, \"4m\");\n    Transport.loop = true;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: this.style,\n      onClick: this.state.start ? this.stopTransportHandler : this.startTransportHandler,\n      type: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.state.start ? React.createElement(\"i\", {\n      className: \"fa fa-stop\",\n      style: this.colorR,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }) : React.createElement(\"i\", {\n      className: \"fa fa-play\",\n      style: this.colorG,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), React.createElement(Knob, {\n      skin: skins.s16,\n      unlockDistance: 30,\n      onChange: this.bpmHanlder,\n      min: 100,\n      max: 300,\n      clampMax: 180,\n      rotateDegrees: 270,\n      value: this.state.bpm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"small\", {\n      className: \"knobText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"BMP \", \"\".concat(Math.trunc(this.state.bpm))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(InstrumentsContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Trans;","map":{"version":3,"sources":["/Users/luismiguelascencio/Development/labs/FINAL/react-drum-machine/src/components/Transport.js"],"names":["React","Transport","Knob","skins","InstrumentsContainer","Trans","Component","constructor","props","bpmHanlder","val","setState","bpm","value","state","startTransportHandler","start","stopTransportHandler","stop","clear","resetHandler","reset","style","fontSize","borderStyle","borderWidth","outline","colorR","color","colorG","setLoopPoints","loop","render","s16","Math","trunc"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Transport } from \"tone\";\nimport { Knob } from \"react-rotary-knob\";\nimport * as skins from \"react-rotary-knob-skin-pack\";\nimport InstrumentsContainer from \"../containers/InstrumentsContainer\";\n\nclass Trans extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      reset: false,\n      start: false,\n      bpm: 120\n      // swing: 0\n    };\n    this.style = {\n      fontSize: \"40px\",\n      borderStyle: \"solid\",\n      borderWidth: \"3px\",\n      outline: 0\n    };\n    this.colorR = {\n      color: \"rgb(142, 83, 120)\"\n    };\n    this.colorG = {\n      color: \"rgb(23, 62, 67)\"\n    };\n    Transport.bpm.value = this.state.bpm;\n    Transport.setLoopPoints(0, \"4m\");\n    Transport.loop = true;\n  }\n\n  bpmHanlder = val => {\n    this.setState({\n      bpm: val\n    });\n    Transport.bpm.value = this.state.bpm;\n  };\n\n  // swingHandler = val => {\n  //   this.setState({\n  //     swing: val.toFixed(2)\n  //   });\n  //   console.log(this.state.swing);\n  //   Transport.swing = this.state.swing;\n  // };\n\n  startTransportHandler = () => {\n    Transport.start(\"+.2\");\n    this.setState({\n      start: true\n    });\n  };\n  stopTransportHandler = () => {\n    Transport.stop();\n    Transport.clear();\n    this.setState({\n      start: false\n    });\n  };\n\n  resetHandler = () => {\n    this.setState({\n      reset: !this.state.reset\n    });\n    // console.log(this.state.reset);\n  };\n\n  render() {\n    return (\n      <div>\n        <button\n          style={this.style}\n          onClick={\n            this.state.start\n              ? this.stopTransportHandler\n              : this.startTransportHandler\n          }\n          type=\"button\"\n        >\n          {this.state.start ? (\n            <i className=\"fa fa-stop\" style={this.colorR}></i>\n          ) : (\n            <i className=\"fa fa-play\" style={this.colorG}></i>\n          )}\n        </button>\n        <Knob\n          skin={skins.s16}\n          unlockDistance={30}\n          onChange={this.bpmHanlder}\n          min={100}\n          max={300}\n          clampMax={180}\n          rotateDegrees={270}\n          value={this.state.bpm}\n        />\n        <small className=\"knobText\">\n          BMP {`${Math.trunc(this.state.bpm)}`}\n        </small>\n\n        {/* <Knob\n          skin={skins.s16}\n          unlockDistance={30}\n          onChange={this.swingHandler}\n          min={0}\n          max={1}\n          clampMax={180}\n          rotateDegrees={270}\n          value={this.state.swing}\n        />\n        <small className=\"knobText\">Swing {`${this.state.swing} %`}</small> */}\n        <div>\n          {/* {`${this.state.beat}`}: {`${this.state.tick}`}:{\" \"}\n          {`${Math.trunc(parseInt(this.state.time))}`} */}\n        </div>\n        <InstrumentsContainer />\n        {/* time={this.state.currentBeat}  */}\n        <br />\n        <br />\n      </div>\n    );\n  }\n}\n\nexport default Trans;\n"]},"metadata":{},"sourceType":"module"}