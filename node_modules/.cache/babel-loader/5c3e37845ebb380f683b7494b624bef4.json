{"ast":null,"code":"var _jsxFileName = \"/Users/luismiguelascencio/Development/labs/FINAL/granular-test1/src/components/StepSequencer.js\";\nimport React from \"react\";\nimport { Transport } from \"tone\";\nimport { Knob } from \"react-rotary-knob\";\nimport * as skins from \"react-rotary-knob-skin-pack\";\nimport Step from \"./Step\";\n\nclass StepSequencer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.clickHandler = e => {\n      // console.log(e.target.dataset.id);\n      let newVal = e.target.dataset.id;\n      this.setState({\n        [newVal]: !this.state[newVal]\n      }); // console.log(this.state);\n    };\n\n    this.stepHandler = val => {\n      this.setState({\n        val: Math.trunc(val)\n      }); // console.log(this.state.val);\n\n      let newArray = Array(this.state.val).fill(1);\n      this.setState({\n        arrayLength: newArray\n      }); // console.log(newArray);\n    };\n\n    this.checkStep = time => {\n      if (this.state[this.index] === true) {\n        console.log(\"yeyyyyyy\");\n        this.props.kickHandler();\n      }\n\n      if (this.index < this.state.arrayLength.length) {\n        this.index++;\n      }\n    };\n\n    this.state = {\n      arrayLength: Array(16).fill(1),\n      val: 16,\n      0: false,\n      1: false,\n      2: false,\n      3: false,\n      4: false,\n      5: false,\n      6: false,\n      7: false,\n      8: false,\n      9: false,\n      10: false,\n      11: false,\n      12: false,\n      13: false,\n      14: false,\n      15: false\n    };\n    Transport.scheduleRepeat(this.checkStep, \"8n\");\n    this.index = 0;\n  } ///Steps changes:::\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        flex: 1,\n        flexDirection: \"row\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"knob\",\n      style: {\n        marginRight: \"10px\",\n        display: \"inline-block\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"small\", {\n      className: \"knobText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Steps\"), React.createElement(Knob, {\n      skin: skins.s16,\n      unlockDistance: 30,\n      onChange: this.stepHandler,\n      min: 1,\n      max: 16,\n      clampMax: 180,\n      rotateDegrees: 270,\n      value: this.state.val,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), this.state.arrayLength.map((x, i) => {\n      return React.createElement(Step, {\n        key: i,\n        clickHandler: this.clickHandler,\n        id: i,\n        clicked: this.state[i],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      });\n    })));\n  }\n\n}\n\nexport default StepSequencer;","map":{"version":3,"sources":["/Users/luismiguelascencio/Development/labs/FINAL/granular-test1/src/components/StepSequencer.js"],"names":["React","Transport","Knob","skins","Step","StepSequencer","Component","constructor","props","clickHandler","e","newVal","target","dataset","id","setState","state","stepHandler","val","Math","trunc","newArray","Array","fill","arrayLength","checkStep","time","index","console","log","kickHandler","length","scheduleRepeat","render","flex","flexDirection","marginRight","display","s16","map","x","i"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Transport } from \"tone\";\nimport { Knob } from \"react-rotary-knob\";\nimport * as skins from \"react-rotary-knob-skin-pack\";\nimport Step from \"./Step\";\n\nclass StepSequencer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      arrayLength: Array(16).fill(1),\n      val: 16,\n\n      0: false,\n      1: false,\n      2: false,\n      3: false,\n      4: false,\n      5: false,\n      6: false,\n      7: false,\n      8: false,\n      9: false,\n      10: false,\n      11: false,\n      12: false,\n      13: false,\n      14: false,\n      15: false\n    };\n\n    Transport.scheduleRepeat(this.checkStep, \"8n\");\n    this.index = 0;\n  }\n  ///Steps changes:::\n  clickHandler = e => {\n    // console.log(e.target.dataset.id);\n    let newVal = e.target.dataset.id;\n    this.setState({\n      [newVal]: !this.state[newVal]\n    });\n\n    // console.log(this.state);\n  };\n\n  stepHandler = val => {\n    this.setState({ val: Math.trunc(val) });\n    // console.log(this.state.val);\n\n    let newArray = Array(this.state.val).fill(1);\n    this.setState({\n      arrayLength: newArray\n    });\n    // console.log(newArray);\n  };\n\n  checkStep = time => {\n    if (this.state[this.index] === true) {\n      console.log(\"yeyyyyyy\");\n      this.props.kickHandler();\n    }\n    if (this.index < this.state.arrayLength.length) {\n      this.index++;\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div\n          style={{\n            flex: 1,\n            flexDirection: \"row\"\n          }}\n        >\n          <div\n            className=\"knob\"\n            style={{\n              marginRight: \"10px\",\n              display: \"inline-block\"\n            }}\n          >\n            <small className=\"knobText\">Steps</small>\n            <Knob\n              skin={skins.s16}\n              unlockDistance={30}\n              onChange={this.stepHandler}\n              min={1}\n              max={16}\n              clampMax={180}\n              rotateDegrees={270}\n              value={this.state.val}\n            />\n          </div>\n          {this.state.arrayLength.map((x, i) => {\n            return (\n              <Step\n                key={i}\n                clickHandler={this.clickHandler}\n                id={i}\n                clicked={this.state[i]}\n              />\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default StepSequencer;\n"]},"metadata":{},"sourceType":"module"}